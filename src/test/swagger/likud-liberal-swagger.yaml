---
swagger: "2.0"
info:
  description: "This is the API for the backend for managing liberal message sending."
  version: "1.0.0"
  title: "Likud Liberal Recruiter"
  contact:
    email: "badyan@gmail.com"
# host: "recruiter.likud-liberal.com"
# basePath: "/v1"
# schemes:
# - "http"
securityDefinitions:
  UserSecurity:
    type: basic
security:
- UserSecurity: []
paths:
  /login:
    get:
      summary: Authenticates the user
      responses:
        204:
          description: Authenticated
        403:
          description: Authentication failed
  /auto-messages:
    get:
      summary: Get auto-messages associated with logged in user.
      produces:
        - application/json
      parameters:
       - name: pageSize
         in: query
         description: Number of auto-messages returned
         type: integer
       - name: pageNumber
         in: query
         description: Page number
         type: integer
      responses:
        200:
          description: List of auto messages
          schema:
            type: array
            items:
              $ref: '#/definitions/AutoMessage'
        403:
          description: Authentication failed
    post:
      summary: Create new auto message.
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: body
          in: body
          description: The auto message to add
          required: true
          schema:
            $ref: '#/definitions/AutoMessage'
      responses:
        201:
          description: Auto message created
          schema:
            $ref: '#/definitions/AutoMessage'
        400:
          description: Bad input
    put:
      summary: Update an auto message
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - name: body
          in: body
          description: The auto message to update
          required: true
          schema:
            $ref: '#/definitions/AutoMessage'
      responses:
        204:
          description: Auto message updated
        400:
          description: Bad input
        404:
          description: Id not found
definitions:
  AutoMessage:
    type: object
    properties:
      id:
        type: string
        description: Id of the auto message
      remainingToSend:
        type: integer
        description: Number of messages left to send
      failed:
        type: integer
        description: Number of messages that failed during send
      sent:
        type: integer
        description: Number of messages successfully sent
      sentFor:
        type: string
        description: Name of the user under which the messages are being sent
      createdOn:
        type: integer
        format: int64
        description: Timestamp of when this auto message was created (Epoch Time)
      modifiedOn:
        type: integer
        format: int64
        description: Timestamp of when this auto message was last modified (Epoch Time)
      lastSentOn:
        type: integer
        format: int64
        description: Timestamp of when the last message was atemmpted to be sent (Epoch Time)
      isActive:
        type: boolean
        description: Is this auto message currently active
      dailyLimit:
        type: integer
        description: Maximum number of messages to send per day
      content:
        type: string
        description: Text of the message to send
      sendGroups:
        type: array
        items:
          type: object
          required:
          - id
          - name
          properties:
            id:
              type: string
            name:
              type: string
externalDocs:
  description: "Find out more about Swagger"
  url: "http://swagger.io"
# Added by VirtServer Plugin
host: virtserver.swaggerhub.com
basePath: /badyan/likud-liberal/1.0.0
schemes:
 - https